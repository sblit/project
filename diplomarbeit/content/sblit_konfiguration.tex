\subsection{Allgemein}
Damit \sblit reibungslos und an die Ansprüche des Benutzers angepasst laufen kann, benötigt es eine Konfiguration. Diese wird unter Windows im Appdata-Verzeichnis im Ordner SBLIT und unter Unix basierenden Systemen im Home-Verzeichnis im ".SBLIT"-Ornder gespeichert. Dieses Verzeichnis sollte jedoch nicht per Hand editiert werden. Sämtliche Einstellungen, die vom Benutzer getätigt werden können finden sich im Einstellungsmenü, das über den System-Tray erreicht werden kann.\\
Die Konfiguration enthält folgende Dateien:
\subsection{freceivers.txt}
Diese Datei enthält eine Liste der Partnergeräte. In freceivers.txt wird ebenfalls festgehalten, ob Partnergeräte die eigenen Dateien speichern oder nur Dateien am eigenen Gerät speichern. Warum dies zu unterscheiden ist, kann im Kapitel \linkt{Partnerschaften} nachgelesen werden. Die Adress-Bytes der Partnergeräte werden in hexadezimaler Form in der Datei gespeichert und werden durch Beistriche getrennt. \\
Um die Datei zu schreiben wird folgender Code verwendet: \\
\javalisting
\begin{minipage}{\linewidth}
\begin{lstlisting}[caption={Schreiben der Gerätedatei},captionpos=b]
private synchronized void updateDevices(File file,
		Map<String, String> devices) throws IOException {
	String temp = devices.toString();
	temp = temp.substring(1, temp.length() - 1);
	Files.write(file.toPath(), temp.getBytes(),
			StandardOpenOption.TRUNCATE_EXISTING);
}
\end{lstlisting}
\end{minipage}
\begin{description}
	\descriptionitem{file}
	Der Parameter spezifiziert die Datei, in die die Geräte geschrieben werden sollen. Dieser Parameter ist notwendig, da diese Methode auch für das Schreiben von receivers.txt \referenz{receivers} verwendet wird.
	\descriptionitem{devices}
	Dieser Parameter enthält die Liste an Geräten, auf denen die Daten gespeichert werden.
	\descriptionitem{IOException}
	Diese Exception tritt auf, wenn Fehler beim Schreiben der Datei auftritt.
	\descriptionitem{temp}
	Diese Variable enthält den Inhalt, der in die Datei geschrieben werden soll. 
\end{description}
In der Zeile 3 und 4 werden die Geräte in eine Form gebracht, wie sie in einer Datei gespeichert werden können. Zeile 4 ist deswegen notwendig, da bei der \code{.toString()}-Methode am Anfang geschwungene Klammern angefügt werden, welche bei der Speicherung nicht benötigt werden. In Zeile 5 wird die im \code{file}-Parameter angegebene Datei mit den Neuerungen überschrieben. \code{StandardOpenOption.TRUNCATE\_EXISTING} bedeutet, dass die Datei überschrieben wird, falls diese schon vorhanden ist.

\subsection{logs.txt}
In der Datei logs.txt wird das \gls{logfile} \referenz{Logfile} gespeichert. Diese werden in folgendem Format in der Datei gespeichert: \\ \code{Pfad=Version1,Version2;Adresse1,Adresse2}. \\
Der Pfad ist der relative Pfad zum \sblit-Ordner. Die unterschiedlichen Versionen sind Hashwerte der Dateien, deren Bytes in hexadezimaler Form in der Datei gespeichert werden. Wie die Versionen, werden auch die Adressen der Geräte, auf denen schon die Datei auf der aktuellsten Verison ist, in hexadezimaler Form gespeichert. \\
Um das \gls{logfile} zu schreiben, wird folgende Methode verwendet: \\
\javalisting
\begin{minipage}{\linewidth}
\begin{lstlisting}[caption={Schreiben des Logfiles},captionpos=b]
private synchronized void write(
		Map<String, LinkedList<Data>> versions,
		Map<String, LinkedList<Data>> synchronizedDevices)
		throws IOException {
	String logs = "";
	if (versions.size() > 0) {
		for (String path : versions.keySet()) {
			logs += "\n" + path + "=";
			String temp = "";
			for (Data data : versions.get(path)) {
				temp += "," + data.toString();
			}
			logs += temp.substring(1) + ";";
			temp = "";
			for (Data data : synchronizedDevices
					.get(path)) {
				temp += "," + data.toString();
			}
			logs += temp.substring(1);
		}
		logs = logs.substring(1);
	}
	Files.write(logFile.toPath(), logs.getBytes());
}
\end{lstlisting}
\end{minipage}
\begin{description}
	\descriptionitem{versions}
	Dieser Parameter enthält alle vorhandenen Dateien und deren Versionsverlauf.
	\descriptionitem{synchronizedDevices}
	Dieser Parameter enthält alle vorhandenen Dateien und die Geräte, auf denen die aktuellste Version bereits gespeichert ist.
	\descriptionitem{logs}
	In dieser Variable wird der Text gespeichert, der anschließend in die Datei geschrieben werden soll.
	\descriptionitem{temp}
	Diese Variable enthält eine diese Zeile, die gerade bearbeitet wird.
\end{description}
Die \code{if}-Anweisung in Zeile 6 überprüft, ob überhaupt Dateien in der Verisionsliste vorhanden sind. Falls die Daten vohanden sind, werden die einzelnen Dateien mithilfe der \code{for}-Schleife in Zeile 7 separiert. In Zeile 8 wird die \code{logs} Variable in eine neue Zeile geschrieben und um den neuen Pfad ergänzt. Weiters wird hier ein "=" angefügt, um den Pfad nachher noch von der Logdatei trennen zu können. In der nächsten Zeile wird die Variable temp erstellt und in der darauf folgenden \code{for}-Schleife um die Versionen, getrennt durch einen Beistrich, ergänzt. In Zeile 13 wird der erste Beistrich mit der Anweisung \code{temp.substring(1)} gekürzt und ein ";" angefügt, um die Versionen von den Geräten, auf denen die Datei synchronisert ist, zu trennen. Anschließend wird die Variable \code{temp} zurückgesetzt und die Geräte genau so wie die Versionen in die Variable \code{temp} geschrieben. Schließlich wird der Zeilenumbruch am Anfang der Variable \code{logs} entfernt und die Datei wird in Zeile 23 geschrieben.

\subsection{receivers.txt} \label{receivers}
Diese Datei enthält eine Liste mit Geräten, auf die der Ordner synchronisert werden soll. Zu diesen Geräten wird ebenfalls ein Name gespeichert, um es dem Benutzer zu erleichtern, den Überblick über die Geräte zu bewahren. Diese werden in der Form \code{Adresse=Name} gespeichert, wobei die Adresse wieder eine hexadezimale Darstellung der Bytes ist und der Name vom Nutzer beliebig vergeben werden kann, um die verschiedenen Geräte besser auseinanderhalten zu können.

\subsection{rk.txt}
In dieser Datei steht der Private-Key des Gerätes. Dieser dient dazu, die Adresse zu beweisen und ist unbedingt geheim zu halten, da sonst fremde Geräte behaupten können, dieses Gerät zu sein. Dieser wird in hexadezimaler Form in der Datei gespeichert. Die Datei ist außerdem versteckt.

\subsection{sblitDirectory.txt}
Diese Datei enthält den Pfad zum synchronisierenden Ordner. Hierbei wird ein String gespeichert, der den Dateipfad enthält.

\subsection{symmetricKey.txt}
In dieser Datei wird der symmetrische Schlüssel festgehalten. Dieser dient zum Entschlüsseln der Daten, die auf den Partnergeräten gespeichert werden. Der symmetrische Schlüssel wird, wie alle binären Daten, in hexadezimaler Form in der Datei gespeichert. Zusätzlich wird diese Datei auf Windows PCs versteckt gespeichert.

\subsection{uk.txt}
Diese Datei enthält den Public-Key des Gerätes, der gleichzeitig die Adresse ist. Beim Verbinden mit \gls{dcl} wird diese Adresse bekanntgegeben. Die Bytes dieses Schlüssels werden ebenfalls in Hexadezimalzahlen umgewandelt und in der Datei gespeichert.
